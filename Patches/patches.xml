<?xml version="1.0" encoding="utf-8" ?>
<Patch>
    <Operation Class="PatchOperationAddModExtension">
        <xpath>/Defs/RoadDef</xpath>
        <value>
            <li Class="RoadsOfTheRim.DefModExtension_RotR_RoadDef">
            </li>
        </value>
    </Operation>
    
    <Operation Class="PatchOperationAdd">
        <xpath>/Defs/RoadDef[defName = "DirtPath"]/modExtensions/li[@Class = "RoadsOfTheRim.DefModExtension_RotR_RoadDef"]</xpath>
        <value>
            <built>false</built>
            <costs>
                <li>
                    <key>Work</key>
                    <value>600</value>
                </li>
            </costs>
        </value>
    </Operation>
    
    <Operation Class="PatchOperationAdd">
        <xpath>*/RoadDef[defName = "DirtRoad"]/modExtensions/li[@Class = "RoadsOfTheRim.DefModExtension_RotR_RoadDef"]</xpath>
        <value>
            <built>false</built>
            <biomeModifier>0.25</biomeModifier>
            <hillinessModifier>0.2</hillinessModifier>
            <winterModifier>0</winterModifier>
            <costs>
                <li>
                    <key>Work</key>
                    <value>1200</value>
                </li>
                <li>
                    <key>Wood</key>
                    <value>120</value>
                </li>
            </costs>
        </value>
    </Operation>
    
    <Operation Class="PatchOperationAdd">
        <xpath>*/RoadDef[defName = "StoneRoad"]/modExtensions/li[@Class = "RoadsOfTheRim.DefModExtension_RotR_RoadDef"]</xpath>
        <value>
            <built>false</built>
            <biomeModifier>0.75</biomeModifier>
            <hillinessModifier>0.4</hillinessModifier>
            <winterModifier>0</winterModifier>
            <costs>
                <li>
                    <key>Work</key>
                    <value>3600</value>
                </li>
                <li>
                    <key>Wood</key>
                    <value>240</value>
                </li>
                <li>
                    <key>Stone</key>
                    <value>1800</value>
                </li>
                <li>
                    <key>Steel</key>
                    <value>300</value>
                </li>
            </costs>
        </value>
    </Operation>
    
    <Operation Class="PatchOperationAdd">
        <xpath>*/RoadDef[defName = "AncientAsphaltRoad"]/modExtensions/li[@Class = "RoadsOfTheRim.DefModExtension_RotR_RoadDef"]</xpath>
        <value>
            <built>false</built>
            <biomeModifier>1</biomeModifier>
            <hillinessModifier>0.6</hillinessModifier>
            <winterModifier>0</winterModifier>
            <costs>
                <li>
                    <key>Work</key>
                    <value>5400</value>
                </li>
                <li>
                    <key>Stone</key>
                    <value>3600</value>
                </li>
                <li>
                    <key>Steel</key>
                    <value>600</value>
                </li>
                <li>
                    <key>Chemfuel</key>
                    <value>300</value>
                </li>
            </costs>
        </value>
    </Operation>
    <!-- Should both the ancient asphalt road & highway really be the same in terms of costs & modifiers ? -->
    <Operation Class="PatchOperationAdd">
        <xpath>*/RoadDef[defName = "AncientAsphaltHighway"]/modExtensions/li[@Class = "RoadsOfTheRim.DefModExtension_RotR_RoadDef"]</xpath>
        <value>
            <built>false</built>
            <biomeModifier>1</biomeModifier>
            <hillinessModifier>0.6</hillinessModifier>
            <winterModifier>0</winterModifier>
            <costs>
                <li>
                    <key>Work</key>
                    <value>5400</value>
                </li>
                <li>
                    <key>Stone</key>
                    <value>3600</value>
                </li>
                <li>
                    <key>Steel</key>
                    <value>600</value>
                </li>
                <li>
                    <key>Chemfuel</key>
                    <value>300</value>
                </li>
            </costs>
        </value>
    </Operation>
    
    <Operation Class="PatchOperationReplace">
		<xpath>*/RoadDef[defName = "DirtPath"]/movementCostMultiplier</xpath>
		<value>
			<movementCostMultiplier>0.75</movementCostMultiplier>
		</value>
	</Operation>

	<Operation Class="PatchOperationReplace">
		<xpath>*/RoadDef[defName = "DirtRoad"]/movementCostMultiplier</xpath>
		<value>
			<movementCostMultiplier>0.6</movementCostMultiplier>
		</value>
	</Operation>

    <Operation Class="PatchOperationReplace">
        <xpath>*/RoadDef[defName = "StoneRoad"]/movementCostMultiplier</xpath>
        <value>
            <movementCostMultiplier>0.5</movementCostMultiplier>
        </value>
    </Operation>
    
    <Operation Class="PatchOperationReplace">
        <xpath>*/RoadDef[defName = "AncientAsphaltRoad"]/movementCostMultiplier</xpath>
        <value>
            <movementCostMultiplier>0.4</movementCostMultiplier>
        </value>
    </Operation>

    <Operation Class="PatchOperationReplace">
        <xpath>*/RoadDef[defName = "AncientAsphaltHighway"]/movementCostMultiplier</xpath>
        <value>
            <movementCostMultiplier>0.4</movementCostMultiplier>
        </value>
    </Operation>
    
    <Operation Class="PatchOperationConditional">
        <xpath>/Defs/WorldObjectDef[defName="Caravan"]/comps</xpath>
        <nomatch Class="PatchOperationAdd">
            <xpath>/Defs/WorldObjectDef[defName="Caravan"]</xpath>
            <value>
                <comps>
                    <li>
                        <compClass>RoadsOfTheRim.WorldObjectComp_Caravan</compClass>
                    </li>
                </comps>
            </value>
        </nomatch>
        <match Class="PatchOperationAdd">
            <xpath>/Defs/WorldObjectDef[defName="Caravan"]/comps</xpath>
            <value>
                <li>
                    <compClass>RoadsOfTheRim.WorldObjectComp_Caravan</compClass>
                </li>
            </value>
        </match>
    </Operation>
    
    <Operation Class="PatchOperationAdd">
        <xpath>/Defs/MapGeneratorDef[@Name="MapCommonBase"]/genSteps</xpath>
        <value>
            <li>RotR_CleanBuiltRoads</li>
        </value>
    </Operation>
    
</Patch>
